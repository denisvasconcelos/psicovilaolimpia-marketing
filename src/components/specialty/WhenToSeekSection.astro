---
import CallToAction from '~/components/widgets/CallToAction.astro';

export interface Props {
  whenToSeek: {
    title: string;
    content: string;
    symptoms: Array<string>;
  };
  specialtyTitle: string;
}

const { whenToSeek, specialtyTitle } = Astro.props;
---

<!-- Quando procurar - Section customizada -->
<section class="py-16 md:py-20 lg:py-24">
  <div class="mx-auto max-w-7xl px-4 sm:px-6">
    
    <!-- Header da seção -->
    <div class="mx-auto max-w-3xl text-center mb-12 md:mb-16">
      <p class="text-base text-primary font-bold tracking-wide uppercase mb-2">
        Sinais importantes
      </p>
      <h2 class="text-3xl md:text-4xl font-bold leading-tighter tracking-tighter mb-4 font-heading dark:text-gray-200">
        {whenToSeek.title}
      </h2>
      <p class="text-xl text-muted dark:text-slate-300">
        {whenToSeek.content}
      </p>
    </div>

    <!-- Lista de sintomas em grid -->
    <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3 mb-12 md:mb-16">
      {whenToSeek.symptoms.map(symptom => (
        <div class="flex items-start p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700">
          <astro-icon name="tabler:alert-circle" class="w-5 h-5 text-orange-500 mr-3 mt-0.5 flex-shrink-0" />
          <span class="text-gray-700 dark:text-gray-300">{symptom}</span>
        </div>
      ))}
    </div>

    <!-- CTA usando o componente CallToAction -->
    <CallToAction
      title="Identificou-se com algum desses sinais?"
      subtitle="Não hesite em buscar ajuda. Quanto antes começarmos o trabalho terapêutico, mais rápido você poderá experimentar melhorias significativas em sua qualidade de vida."
      actions={[
        {
          text: `Agendar ${specialtyTitle}`,
          href: `https://wa.me/5511985946105?text=Olá! Me identifiquei com alguns sinais de ${specialtyTitle} e gostaria de agendar uma consulta.`,
          icon: 'tabler:brand-whatsapp',
        },
        {
          text: 'Enviar Mensagem',
          href: '/contato',
          icon: 'tabler:mail',
        },
        {
          text: 'Conhecer Profissionais',
          href: '/profissionais',
          icon: 'tabler:users',
        },
      ]}
    />

  </div>

</section>

<style>
  /* Animação para os cards de sintomas */
  section .grid > * {
    opacity: 0;
    transform: translateY(10px);
    animation: fadeInUp 0.4s ease forwards;
  }

  section .grid > *:nth-child(1) { animation-delay: 0.1s; }
  section .grid > *:nth-child(2) { animation-delay: 0.15s; }
  section .grid > *:nth-child(3) { animation-delay: 0.2s; }
  section .grid > *:nth-child(4) { animation-delay: 0.25s; }
  section .grid > *:nth-child(5) { animation-delay: 0.3s; }
  section .grid > *:nth-child(6) { animation-delay: 0.35s; }
  section .grid > *:nth-child(7) { animation-delay: 0.4s; }
  section .grid > *:nth-child(8) { animation-delay: 0.45s; }
  section .grid > *:nth-child(9) { animation-delay: 0.5s; }
  section .grid > *:nth-child(10) { animation-delay: 0.55s; }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>